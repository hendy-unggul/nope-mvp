<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOPE ‚Äî Jejakkan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #e5e5e5;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 640px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            padding: 20px 0;
            border-bottom: 1px solid #222;
            margin-bottom: 24px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #fff;
            letter-spacing: -0.5px;
        }

        /* FORM JEJAKKAN - COMPACT */
        .jejakkan-section {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 16px; /* Padding lebih compact */
            margin-bottom: 32px;
        }

        .jejakkan-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-size: 14px;
            color: #888;
        }

        .jejakkan-header span {
            font-size: 16px;
        }

        .jejakkan-textarea {
            width: 100%;
            min-height: 80px; /* Lebih compact */
            background: #0a0a0a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 12px;
            color: #e5e5e5;
            font-size: 14px;
            resize: vertical;
            font-family: inherit;
            margin-bottom: 12px;
            transition: border-color 0.2s;
        }

        .jejakkan-textarea:focus {
            outline: none;
            border-color: #555;
        }

        .jejakkan-textarea::placeholder {
            color: #666;
        }

        /* IMAGE UPLOAD ARTEFAK */
        .artefak-upload {
            margin-bottom: 12px;
        }

        .artefak-label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 8px 12px;
            background: #1a1a1a;
            border: 1px dashed #333;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .artefak-label:hover {
            border-color: #555;
            background: #1f1f1f;
        }

        .artefak-input {
            display: none;
        }

        .artefak-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }

        .artefak-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 6px;
            overflow: hidden;
            background: #1a1a1a;
            border: 1px solid #333;
        }

        .artefak-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .artefak-item.permanent::after {
            content: '‚ú¶';
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 10px;
            color: #gold;
            text-shadow: 0 0 4px rgba(0,0,0,0.8);
        }

        .quota-info {
            font-size: 11px;
            color: #444;
            margin-top: 6px;
            font-style: italic;
        }

        .quota-info.used {
            color: #666;
        }

        /* CTA JEJAKKAN - PROPORSIONAL */
        .jejakkan-cta {
            width: 100%;
            padding: 10px 20px; /* Ukuran proporsional, tidak terlalu besar */
            background: #e5e5e5;
            color: #0a0a0a;
            border: none;
            border-radius: 8px;
            font-size: 13px; /* Font size proporsional */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 4px; /* Jarak dengan elemen atas */
            margin-bottom: 0; /* Hapus padding bawah berlebih */
        }

        .jejakkan-cta:hover {
            background: #fff;
            transform: translateY(-1px);
        }

        .jejakkan-cta:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* FEED SECTION */
        .feed-section {
            margin-top: 40px;
        }

        .feed-item {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            font-size: 12px;
            color: #666;
        }

        .feed-date {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .feed-badge {
            background: #1a1a1a;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            color: #888;
        }

        .feed-content {
            font-size: 14px;
            line-height: 1.7;
            color: #d5d5d5;
            margin-bottom: 12px;
        }

        .feed-artefak {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
            margin-bottom: 12px;
        }

        .feed-artefak img {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .feed-artefak img:hover {
            transform: scale(1.02);
        }

        .feed-stats {
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: #666;
        }

        .feed-stat {
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .feed-stat:hover {
            color: #888;
        }

        /* VIBRASI SECTION - TANPA PADDING COUNTER */
        .vibrasi-section {
            margin-top: 24px;
            padding: 12px 0; /* Hanya padding vertical minimal */
            border-top: 1px solid #222;
            border-bottom: 1px solid #222;
        }

        .vibrasi-title {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .vibrasi-flow {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .vibrasi-tag {
            background: #1a1a1a;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: #888;
            border: 1px solid #222;
            cursor: pointer;
            transition: all 0.2s;
        }

        .vibrasi-tag:hover {
            border-color: #444;
            color: #aaa;
        }

        /* HAPUS COUNTER STYLING */
        /* .counter-section dihapus total */

        @media (max-width: 480px) {
            .container {
                padding: 16px;
            }
            
            .jejakkan-section {
                padding: 14px;
            }
            
            .feed-artefak {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">NOPE</div>
        </header>

        <!-- FORM JEJAKKAN - COMPACT & FUNCTIONAL -->
        <section class="jejakkan-section">
            <div class="jejakkan-header">
                <span>‚ú¶</span>
                <span>surviving</span>
            </div>
            
            <textarea 
                class="jejakkan-textarea" 
                placeholder="Tulis jejakmu di sini... (bisa diinput sekarang)"
                id="jejakInput"
            ></textarea>

            <!-- UPLOAD ARTEFAK - 30 HARI QUOTA -->
            <div class="artefak-upload">
                <label class="artefak-label" for="artefakInput">
                    <span>üìé</span>
                    <span>Tambah Artefak (Gambar)</span>
                </label>
                <input 
                    type="file" 
                    id="artefakInput" 
                    class="artefak-input" 
                    accept="image/*" 
                    multiple
                    onchange="handleArtefakUpload(this)"
                >
                <div class="quota-info" id="quotaInfo">
                    Quota: 1 upload per 30 hari ‚Ä¢ Reset: 14 Mar 2026
                </div>
                <div class="artefak-preview" id="artefakPreview"></div>
            </div>

            <!-- CTA PROPORSIONAL -->
            <button class="jejakkan-cta" onclick="submitJejak()">
                Jejakkan
            </button>
        </section>

        <!-- FEED -->
        <section class="feed-section">
            <!-- Item 1 -->
            <article class="feed-item">
                <div class="feed-header">
                    <div class="feed-date">
                        <span>13 Feb</span>
                        <span>¬∑</span>
                        <span>02.51</span>
                    </div>
                    <span class="feed-badge">‚ú¶ surviving</span>
                </div>
                
                <p class="feed-content">
                    gue udah bantuin dia tiap malem pas dia galau sampe gue lupa ngerjain tugas sendiri. 
                    pas gue butuh temen buat ngobrol, dia malah offline terus. gak minta balasan sih, 
                    tapi rasanya kayak jadi tempat sampah emosi doang.
                </p>

                <div class="feed-stats">
                    <span class="feed-stat">üëÅ 32 orang merasakan ini</span>
                    <span class="feed-stat">üò≠ banyak yang literally me</span>
                </div>
            </article>

            <!-- Item dengan Vibrasi -->
            <article class="feed-item">
                <div class="feed-header">
                    <div class="feed-date">
                        <span>14 Feb</span>
                        <span>¬∑</span>
                        <span>02.51</span>
                    </div>
                    <span class="feed-badge">üõå doomscrolling</span>
                </div>
                
                <p class="feed-content">
                    deadline mepet, dosen gak jelas, dompet kering. rasanya pengen ijin cuti sehari buat jadi batu aja.
                </p>

                <!-- VIBRASI - TANPA PADDING COUNTER -->
                <div class="vibrasi-section">
                    <div class="vibrasi-title">
                        <span>üåä</span>
                        <span>9 vibrasi sama ‚Äî Arus ini mengalir ke arah yang serupa</span>
                    </div>
                    <div class="vibrasi-flow">
                        <span class="vibrasi-tag">burnout</span>
                        <span class="vibrasi-tag">deadline anxiety</span>
                        <span class="vibrasi-tag">financial stress</span>
                    </div>
                </div>

                <div class="feed-stats">
                    <span class="feed-stat">üëÅ 17 orang merasakan ini</span>
                    <span class="feed-stat">üò≠ banyak yang literally me</span>
                </div>
            </article>

            <!-- Item dengan Artefak (Permanent) -->
            <article class="feed-item">
                <div class="feed-header">
                    <div class="feed-date">
                        <span>14 Feb</span>
                        <span>¬∑</span>
                        <span>14.51</span>
                    </div>
                    <span class="feed-badge">üé≠ existential</span>
                </div>
                
                <p class="feed-content">capek.</p>

                <!-- Contoh Artefak yang sudah diupload (tidak bisa dihapus) -->
                <div class="feed-artefak">
                    <div class="artefak-item permanent">
                        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400&h=400&fit=crop" alt="Artefak">
                    </div>
                </div>

                <div class="feed-stats">
                    <span class="feed-stat">üëÅ 55 orang merasakan ini</span>
                    <span class="feed-stat">ü´Ç banyak yang peluk jauh</span>
                </div>

                <!-- Vibrasi tanpa counter padding -->
                <div class="vibrasi-section">
                    <div class="vibrasi-title">
                        <span>üåä</span>
                        <span>10 vibrasi sama ‚Äî Arus ini mengalir ke arah yang serupa</span>
                    </div>
                    <div class="vibrasi-flow">
                        <span class="vibrasi-tag">existential dread</span>
                        <span class="vibrasi-tag">tired</span>
                    </div>
                </div>
            </article>
        </section>
    </div>

    <script>
        // State management
        let artefakQueue = [];
        let lastUploadDate = localStorage.getItem('lastArtefakUpload');
        const QUOTA_DAYS = 30;

        // Check quota on load
        function checkQuota() {
            const quotaInfo = document.getElementById('quotaInfo');
            const artefakInput = document.getElementById('artefakInput');
            
            if (lastUploadDate) {
                const lastDate = new Date(lastUploadDate);
                const now = new Date();
                const diffDays = Math.floor((now - lastDate) / (1000 * 60 * 60 * 24));
                
                if (diffDays < QUOTA_DAYS) {
                    const remainingDays = QUOTA_DAYS - diffDays;
                    const nextReset = new Date(lastDate);
                    nextReset.setDate(nextReset.getDate() + QUOTA_DAYS);
                    
                    quotaInfo.textContent = `Quota terpakai. Reset dalam ${remainingDays} hari (${nextReset.toLocaleDateString('id-ID')})`;
                    quotaInfo.classList.add('used');
                    artefakInput.disabled = true;
                    return false;
                }
            }
            
            const nextMonth = new Date();
            nextMonth.setDate(nextMonth.getDate() + QUOTA_DAYS);
            quotaInfo.textContent = `Quota: 1 upload per 30 hari ‚Ä¢ Reset: ${nextMonth.toLocaleDateString('id-ID')}`;
            return true;
        }

        // Handle artefak upload
        function handleArtefakUpload(input) {
            if (!checkQuota()) {
                alert('Quota upload habis. Tunggu 30 hari untuk upload lagi.');
                input.value = '';
                return;
            }

            const files = Array.from(input.files);
            const preview = document.getElementById('artefakPreview');
            
            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const div = document.createElement('div');
                        div.className = 'artefak-item';
                        div.innerHTML = `<img src="${e.target.result}" alt="Artefak">`;
                        preview.appendChild(div);
                        artefakQueue.push(e.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Set last upload date (simulasi)
            localStorage.setItem('lastArtefakUpload', new Date().toISOString());
            checkQuota();
        }

        // Submit jejak
        function submitJejak() {
            const input = document.getElementById('jejakInput');
            const content = input.value.trim();
            
            if (!content && artefakQueue.length === 0) {
                alert('Tulis sesuatu atau unggah artefak dulu.');
                return;
            }

            // Simulasi submit
            console.log('Jejak:', content);
            console.log('Artefak:', artefakQueue);
            
            // Reset form
            input.value = '';
            document.getElementById('artefakPreview').innerHTML = '';
            artefakQueue = [];
            
            alert('Jejak berhasil disimpan! (Simulasi)');
        }

        // Init
        checkQuota();
    </script>
</body>
</html>
