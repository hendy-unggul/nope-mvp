<!DOCTYPE html>
<html lang="id" data-theme="glitch">
<head>
  <!-- ... head sama ... -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <!-- ... body sama ... -->

  <script src="frekuensi-shared.js"></script>
  <script>
    // ==========================================
    // NOPE BOLA LIVE - SUPABASE CONFIG
    // ==========================================
    
    // Gunakan window. untuk avoid duplikasi
    window.SUPABASE_CONFIG = {
      URL: 'https://fuovfrdicdhnlymacpz.supabase.co',
      KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ1b3ZmcmRpY2Robmx5bWFjcHoiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTczODU3NjAwMCwiZXhwIjoyMDU0MTUyMDAwfQ.XXXXXXXX' // â† GANTI!
    };
    
    class NopeBolaLive {
      constructor() {
        this.supabase = null;
        this.user = null;
        this.matchId = 'match_001';
        this.currentPrediction = null;
        this.predictionTimer = null;
        this.init();
      }
      
      async init() {
        try {
          this.updateStatus('connecting', 'ðŸŸ¡ Connecting...');
          
          // Check config
          if (window.SUPABASE_CONFIG.KEY.includes('XXXXXXXX') || window.SUPABASE_CONFIG.KEY === 'eyJhbGci...') {
            throw new Error('Please set your Supabase Anon Key in window.SUPABASE_CONFIG.KEY');
          }
          
          this.supabase = window.supabase.createClient(
            window.SUPABASE_CONFIG.URL, 
            window.SUPABASE_CONFIG.KEY,
            { auth: { persistSession: false } }
          );
          
          await this.testConnection();
          // ... rest of init
          
        } catch (err) {
          console.error('Connection error:', err);
          this.updateStatus('offline', 'ðŸ”´ ' + (err.message || 'Connection failed'));
          this.setupOfflineMode();
        }
      }
      
      // ... rest of class methods ...
    }
    
    // Initialize
    let bolaApp;
    document.addEventListener('DOMContentLoaded', () => { 
      bolaApp = new NopeBolaLive(); 
    });
    
    // Global functions
    window.makePrediction = (opt) => bolaApp?.makePrediction(opt);
    window.sendChat = () => bolaApp?.sendChat();
  </script>
</body>
</html>
